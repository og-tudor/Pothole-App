{% extends "base.html" %}

{% block extra_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/map.css') }}">
{% endblock %}

{% block content %}
<!-- Wrapper for map and controls -->
<div id="map-container" class="position-relative d-flex" style="height: 85vh;">
  
  <!-- Map -->
  <div id="map" class="flex-grow-1"></div>

  <div id="defect-legend" class="leaflet-control legend rounded shadow p-2">
    <h6 class="mb-2"><i class="bi bi-map"></i> Tipuri defecte</h6>
    <div class="legend-entry"><span class="legend-icon bg-red"></span> Pothole</div>
    <div class="legend-entry"><span class="legend-icon bg-orange"></span> Alligator crack</div>
    <div class="legend-entry"><span class="legend-icon bg-blue"></span> Longitudinal crack</div>
    <div class="legend-entry"><span class="legend-icon bg-green"></span> Transverse crack</div>
  </div>



  <!-- Buttons and sliders -->
  <button id="switchStyleBtn" class="btn btn-light">
      <i class="bi bi-globe"></i> SchimbÄƒ stilul
  </button>

  <div id="legend" class="shadow">
      <b>Heatmap Intensity</b>
      <div class="my-1" style="background: linear-gradient(to right, blue, lime, yellow, red); height: 10px;"></div>
      <span>Low</span> <span class="float-end">High</span>
  </div>

  <div id="sliderContainer">
    <label for="intensitySlider" class="form-label mb-1"><b>Intensity Multiplier</b></label>
    <div class="d-flex align-items-center gap-2">
      <input type="range" id="intensitySlider" min="0.5" max="2.0" step="0.1" value="1" class="form-range">
      <span id="intensityValue">1.0x</span>
    </div>
  </div>

</div>


<!-- Overlay -->
<div id="overlay"></div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/theme.js') }}"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}
